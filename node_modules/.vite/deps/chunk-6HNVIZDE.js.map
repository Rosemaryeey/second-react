{
  "version": 3,
  "sources": ["../../preline/src/plugins/range-slider/index.ts"],
  "sourcesContent": ["/*\n * HSRangeSlider\n * @version: 2.5.0\n * @author: Preline Labs Ltd.\n * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)\n * Copyright 2024 Preline Labs Ltd.\n */\n\nimport type { cssClasses, target } from 'nouislider';\n\nimport {\n\tIRangeSliderCssClassesObject,\n\tIRangeSlider,\n\tIRangeSliderOptions,\n} from './interfaces';\n\nimport HSBasePlugin from '../base-plugin';\nimport { ICollectionItem } from '../../interfaces';\n\nclass HSRangeSlider\n\textends HSBasePlugin<IRangeSliderOptions>\n\timplements IRangeSlider\n{\n\tprivate readonly concatOptions: IRangeSliderOptions;\n\tprivate format: any | null;\n\n\tconstructor(el: HTMLElement, options?: IRangeSliderOptions, events?: {}) {\n\t\tsuper(el, options, events);\n\n\t\tconst data = el.getAttribute('data-hs-range-slider');\n\t\tconst dataOptions: IRangeSliderOptions = data ? JSON.parse(data) : {};\n\n\t\tthis.concatOptions = {\n\t\t\t...dataOptions,\n\t\t\t...options,\n\t\t\tcssClasses: {\n\t\t\t\t...noUiSlider.cssClasses,\n\t\t\t\t...this.processClasses(dataOptions.cssClasses),\n\t\t\t},\n\t\t};\n\n\t\tthis.init();\n\t}\n\n\tget formattedValue() {\n\t\tconst values: number | string | (string | number)[] = (\n\t\t\tthis.el as target\n\t\t).noUiSlider.get();\n\n\t\tif (Array.isArray(values) && this.format) {\n\t\t\tconst updateValues: (string | number)[] = [];\n\n\t\t\tvalues.forEach((val) => {\n\t\t\t\tupdateValues.push(this.format.to(val));\n\t\t\t});\n\n\t\t\treturn updateValues;\n\t\t} else if (this.format) {\n\t\t\treturn this.format.to(values);\n\t\t} else {\n\t\t\treturn values;\n\t\t}\n\t}\n\n\tprivate processClasses(cl: typeof cssClasses) {\n\t\tconst mergedClasses: IRangeSliderCssClassesObject = {};\n\n\t\tObject.keys(cl).forEach((key: keyof typeof noUiSlider.cssClasses) => {\n\t\t\tif (key) mergedClasses[key] = `${noUiSlider.cssClasses[key]} ${cl[key]}`;\n\t\t});\n\n\t\treturn mergedClasses as typeof cssClasses;\n\t}\n\n\tprivate init() {\n\t\tthis.createCollection(window.$hsRangeSliderCollection, this);\n\n\t\tif (\n\t\t\ttypeof this.concatOptions?.formatter === 'object'\n\t\t\t\t? this.concatOptions?.formatter?.type ===\n\t\t\t\t\t'thousandsSeparatorAndDecimalPoints'\n\t\t\t\t: this.concatOptions?.formatter === 'thousandsSeparatorAndDecimalPoints'\n\t\t)\n\t\t\tthis.thousandsSeparatorAndDecimalPointsFormatter();\n\t\telse if (\n\t\t\ttypeof this.concatOptions?.formatter === 'object'\n\t\t\t\t? this.concatOptions?.formatter?.type === 'integer'\n\t\t\t\t: this.concatOptions?.formatter === 'integer'\n\t\t)\n\t\t\tthis.integerFormatter();\n\t\telse if (\n\t\t\ttypeof this.concatOptions?.formatter === 'object' &&\n\t\t\t(this.concatOptions?.formatter?.prefix ||\n\t\t\t\tthis.concatOptions?.formatter?.postfix)\n\t\t)\n\t\t\tthis.prefixOrPostfixFormatter();\n\n\t\tnoUiSlider.create(this.el, this.concatOptions);\n\n\t\tif (this.concatOptions.disabled) this.setDisabled();\n\t}\n\n\tprivate formatValue(val: number | string) {\n\t\tlet result = '';\n\n\t\tif (typeof this.concatOptions?.formatter === 'object') {\n\t\t\tif (this.concatOptions?.formatter?.prefix)\n\t\t\t\tresult += this.concatOptions?.formatter?.prefix;\n\t\t\tresult += val;\n\t\t\tif (this.concatOptions?.formatter?.postfix)\n\t\t\t\tresult += this.concatOptions?.formatter?.postfix;\n\t\t} else result += val;\n\n\t\treturn result;\n\t}\n\n\tprivate integerFormatter() {\n\t\tthis.format = {\n\t\t\tto: (val: number) => this.formatValue(Math.round(val)),\n\t\t\tfrom: (val: string) => Math.round(+val),\n\t\t};\n\n\t\tif (this.concatOptions?.tooltips) this.concatOptions.tooltips = this.format;\n\t}\n\n\tprivate prefixOrPostfixFormatter() {\n\t\tthis.format = {\n\t\t\tto: (val: number) => this.formatValue(val),\n\t\t\tfrom: (val: string) => +val,\n\t\t};\n\n\t\tif (this.concatOptions?.tooltips) this.concatOptions.tooltips = this.format;\n\t}\n\n\tprivate thousandsSeparatorAndDecimalPointsFormatter() {\n\t\tthis.format = {\n\t\t\tto: (val: number) =>\n\t\t\t\tthis.formatValue(\n\t\t\t\t\tnew Intl.NumberFormat('en-US', {\n\t\t\t\t\t\tminimumFractionDigits: 2,\n\t\t\t\t\t\tmaximumFractionDigits: 2,\n\t\t\t\t\t}).format(val),\n\t\t\t\t),\n\t\t\tfrom: (val: string) => parseFloat(val.replace(/,/g, '')),\n\t\t};\n\n\t\tif (this.concatOptions?.tooltips) this.concatOptions.tooltips = this.format;\n\t}\n\n\tprivate setDisabled() {\n\t\tthis.el.setAttribute('disabled', 'disabled');\n\t\tthis.el.classList.add('disabled');\n\t}\n\n\t// Static methods\n\tstatic getInstance(target: HTMLElement | string, isInstance = false) {\n\t\tconst elInCollection = window.$hsRangeSliderCollection.find(\n\t\t\t(el) =>\n\t\t\t\tel.element.el ===\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\n\t\t);\n\n\t\treturn elInCollection\n\t\t\t? isInstance\n\t\t\t\t? elInCollection\n\t\t\t\t: elInCollection.element.el\n\t\t\t: null;\n\t}\n\n\tstatic autoInit() {\n\t\tif (!window.$hsRangeSliderCollection) window.$hsRangeSliderCollection = [];\n\n\t\tdocument\n\t\t\t.querySelectorAll('[data-hs-range-slider]:not(.--prevent-on-load-init)')\n\t\t\t.forEach((el: HTMLElement) => {\n\t\t\t\tif (\n\t\t\t\t\t!window.$hsRangeSliderCollection.find(\n\t\t\t\t\t\t(elC) => (elC?.element?.el as HTMLElement) === el,\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\tnew HSRangeSlider(el);\n\t\t\t});\n\t}\n\n\t// Backward compatibility\n\tstatic on(evt: string, target: HTMLElement, cb: Function) {\n\t\tconst elInCollection = window.$hsRangeSliderCollection.find(\n\t\t\t(el) =>\n\t\t\t\tel.element.el ===\n\t\t\t\t(typeof target === 'string' ? document.querySelector(target) : target),\n\t\t);\n\n\t\tif (elInCollection) elInCollection.element.events[evt] = cb;\n\t}\n}\n\ndeclare global {\n\tinterface Window {\n\t\tHSRangeSlider: Function;\n\t\t$hsRangeSliderCollection: ICollectionItem<HSRangeSlider>[];\n\t}\n}\n\nwindow.addEventListener('load', () => {\n\tHSRangeSlider.autoInit();\n\n\t// Uncomment for debug\n\t// console.log('Range slider collection:', window.$hsRangeSliderCollection);\n});\n\nif (typeof window !== 'undefined') {\n\twindow.HSRangeSlider = HSRangeSlider;\n}\n\nexport default HSRangeSlider;\n"],
  "mappings": "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",
  "names": []
}
